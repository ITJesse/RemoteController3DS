{"version":3,"sources":["../src/keymap.js"],"names":["BIT","n","keycode3DS","A","B","Select","Start","Right","Left","Up","Down","R","L","X","Y","ZL","ZR","Keymap","constructor","keys","Object","keymap","e","code","get3DSKey","key","getKey","getKeymap"],"mappings":";;;;;;AAAA;;;;AAEA;;;;;;AAEA,MAAMA,MAAMC,KAAK,KAAKA,CAAtB;;AAEA,MAAMC,aAAa;AACjBC,KAAGH,IAAI,CAAJ,CADc;AAEjBI,KAAGJ,IAAI,CAAJ,CAFc;AAGjBK,UAAQL,IAAI,CAAJ,CAHS;AAIjBM,SAAON,IAAI,CAAJ,CAJU;AAKjBO,SAAOP,IAAI,CAAJ,CALU;AAMjBQ,QAAMR,IAAI,CAAJ,CANW;AAOjBS,MAAIT,IAAI,CAAJ,CAPa;AAQjBU,QAAMV,IAAI,CAAJ,CARW;AASjBW,KAAGX,IAAI,CAAJ,CATc;AAUjBY,KAAGZ,IAAI,CAAJ,CAVc;AAWjBa,KAAGb,IAAI,EAAJ,CAXc;AAYjBc,KAAGd,IAAI,EAAJ,CAZc;AAajBe,MAAIf,IAAI,EAAJ,CAba;AAcjBgB,MAAIhB,IAAI,EAAJ;AAda,CAAnB;;AAiBe,MAAMiB,MAAN,CAAa;AAC1BC,gBAAc;AACZ,UAAMC,OAAOC,OAAOD,IAAP,CAAY,iBAAOE,MAAnB,CAAb;AACA,SAAKA,MAAL,GAAc,EAAd;AACA,SAAK,MAAMC,CAAX,IAAgBH,IAAhB,EAAsB;AACpB,YAAMI,OAAO,uBAAQ,iBAAOF,MAAP,CAAcC,CAAd,CAAR,CAAb;AACA,WAAKD,MAAL,CAAYE,IAAZ,IAAoBD,CAApB;AACD;AACF;;AAEDE,YAAUD,IAAV,EAAgB;AACd,UAAME,MAAM,KAAKC,MAAL,CAAYH,IAAZ,CAAZ;AACA,WAAOrB,WAAWuB,GAAX,KAAmB,CAA1B;AACD;;AAEDC,SAAOH,IAAP,EAAa;AACX,WAAO,KAAKF,MAAL,CAAYE,IAAZ,KAAqB,IAA5B;AACD;;AAEDI,cAAY;AACV,WAAO,KAAKN,MAAZ;AACD;AArByB;kBAAPJ,M","file":"keymap.js","sourcesContent":["import keycode from 'keycode';\n\nimport config from './config';\n\nconst BIT = n => 1 << n;\n\nconst keycode3DS = {\n  A: BIT(0),\n  B: BIT(1),\n  Select: BIT(2),\n  Start: BIT(3),\n  Right: BIT(4),\n  Left: BIT(5),\n  Up: BIT(6),\n  Down: BIT(7),\n  R: BIT(8),\n  L: BIT(9),\n  X: BIT(10),\n  Y: BIT(11),\n  ZL: BIT(14),\n  ZR: BIT(15),\n};\n\nexport default class Keymap {\n  constructor() {\n    const keys = Object.keys(config.keymap);\n    this.keymap = {};\n    for (const e of keys) {\n      const code = keycode(config.keymap[e]);\n      this.keymap[code] = e;\n    }\n  }\n\n  get3DSKey(code) {\n    const key = this.getKey(code);\n    return keycode3DS[key] || 0;\n  }\n\n  getKey(code) {\n    return this.keymap[code] || null;\n  }\n\n  getKeymap() {\n    return this.keymap;\n  }\n}\n"]}